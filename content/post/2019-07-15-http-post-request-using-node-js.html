---
title: HTTP Post Requests Using R, Python, and Node.js
author: Danny Morris
date: '2019-07-15'
slug: http-post-request-using-node-js
categories:
  - API
  - HTTP
  - JavaScript
tags:
  - API
  - HTTP
  - JavaScript
editor_options: 
  chunk_output_type: console
---



<pre class="r"><code>library(knitr)</code></pre>
<pre class="javascript"><code>const https = require(&#39;http&#39;)

const data = JSON.stringify({
  doc_set_1: &#39;hello&#39;
})

const options = {
  hostname: &#39;ec2-instance-dns.com&#39;,
  port: &#39;8000&#39;,
  path: &#39;/textsim&#39;,
  method: &#39;POST&#39;,
  headers: {
    &#39;Content-Type&#39;: &#39;application/json&#39;,
    &#39;Content-Length&#39;: data.length
  }
}

const req = https.request(options, (res) =&gt; {
  console.log(`statusCode: ${res.statusCode}`)
  
  res.on(
    &#39;data&#39;, (d) =&gt; {
      process.stdout.write(d)
    }
  )
})

req.on(&#39;error&#39;, (error) =&gt; {
  console.error(error)
})

req.write(data)
req.end()
</code></pre>
<div id="r" class="section level1">
<h1>R</h1>
<pre class="r"><code>resp &lt;- httr::POST(
  url = &quot;http://ec2-instance-dns:8000/predict&quot;,
  body = iris[, 1:4]
)</code></pre>
</div>
